[buildout]
parts += 
      adagucserver_conda
      adagucserver_app
      adagucserver_config
      adagucserver_supervisor

[adagucserver_conda]
recipe = birdhousebuilder.recipe.conda
pkgs = 
     adagucserver

[adagucserver_app]
recipe = collective.recipe.template
input = ${buildout:directory}/templates/adagucserver.py
output = ${buildout:anaconda-home}/etc/adagucserver/adagucserver.py

prefix = ${buildout:anaconda-home}

[adagucserver_config]
recipe = collective.recipe.template
input = ${buildout:directory}/templates/autowms.xml
output = ${buildout:anaconda-home}/etc/adagucserver/autowms.xml

prefix = ${buildout:anaconda-home}
online_resource = http://${settings:hostname}:8001/?
font = ${buildout:anaconda-home}/share/adagucserver/fonts/FreeSans.ttf
dbname = adagucdemo 
dbhost = 127.0.0.1 
dbuser = adaguc 
dbpassword = adaguc
data_dir = /home/pingu/tmp/data/

[adagucserver_supervisor]
recipe = birdhousebuilder.recipe.supervisor

program = adagucserver
command = ${buildout:anaconda-home}/bin/gunicorn --access-logfile - -w 4 adagucserver:app
directory = ${buildout:anaconda-home}/etc/adagucserver

