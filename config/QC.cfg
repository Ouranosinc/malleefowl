[QC_build]

parts =
    qc_install
    qc_doc_gen
    qc_doc_build

[qc_install]
recipe = collective.recipe.cmd
on_install = true
on_update = true
cmds =
      /opt/anaconda/bin/python ${buildout:directory}/src/qc-processes/compile_qctool.py /opt/anaconda

[qc_doc_gen]
recipe = collective.recipe.sphinxbuilder
source = ${buildout:directory}/src/qc-processes/documentation/source
extra-paths =
         ${buildout:directory}/eggs/*
build = ${buildout:directory}/src/qc-processes/documentation/build
outputs = 
    html

[qc_doc_build]
recipe = collective.recipe.cmd
on_install = true
on_update = true
cmds =
     ${buildout:directory}/bin/qc_doc_gen 

[conda_additional]
dependencies += 
    sudo /opt/anaconda/bin/conda install --yes paramiko
    sudo /opt/anaconda/bin/pip install -i https://pypi.binstar.org/pypi/simple python-swiftclient==1.8 --upgrade
