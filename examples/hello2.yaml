imports:

- classpath:/common/groovy/actors.yaml
- classpath:/common/directors.yaml
- classpath:/common/python/actors.yaml

components:

- id: DoSomethingActor
  type: PythonActor
  properties:
    step: |
      message = "hello %s" % (str(params[0][0]))
      inputs = []
      inputs.extend(params)
      things = 'inputs = %s' % (inputs)
    inputs:
      params:
        type: Collection
    outputs:
      message:
      things:

- id: HelloWorld
  type: Workflow
  properties:
    director: !ref MTDataDrivenDirector
    nodes:
    - !ref CreateGreeting
    - !ref RenderGreeting

- id: CreateGreeting
  type: Node
  properties:  
    actor: !ref DoSomethingActor
    constants:
      params: [('operator', 5), ('dubidu', u'hello'), 8, 9, 10, ('huhu', 7)]
    outflows:
      message: /messages/greeting/
      things: /messages/things/
 
- id: RenderGreeting
  type: Node
  properties:
    actor: !ref PrintStreamWriter
    inflows:
      message: /messages/greeting/
      #things: /messages/things/